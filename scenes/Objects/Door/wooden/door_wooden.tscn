[gd_scene load_steps=10 format=3 uid="uid://h7u2pmmi36yb"]

[ext_resource type="PackedScene" uid="uid://bl0362pli2ti0" path="res://scenes/Objects/Door/wooden/door.fbx" id="1_w7s8y"]
[ext_resource type="Script" path="res://scripts/door_swinging.gd" id="2_6l8ta"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_3tvsx"]
data = PackedVector3Array(-0.0012, -0.02, 0.0451, -0.0012, 0, 0.0451, 0.0012, 0, 0.0451, 0.0012, 0, 0.0451, 0.0012, -0.02, 0.0451, -0.0012, -0.02, 0.0451, -0.0012, -0.02, 0.0451, 0.0012, -0.02, 0.0451, 0.0012, -0.02, 0, 0.0012, -0.02, 0, -0.0012, -0.02, 0, -0.0012, -0.02, 0.0451, -0.0012, 0, 0.0451, -0.0012, -0.02, 0.0451, -0.0012, -0.02, 0, -0.0012, -0.02, 0, -0.0012, 0, 0, -0.0012, 0, 0.0451, -0.0012, -0.02, 0, 0.0012, -0.02, 0, -0.0012, 0, 0, 0.0012, -0.02, 0, 0.0012, 0, 0, -0.0012, 0, 0, 0.0012, -0.02, 0.0451, 0.0012, 0, 0.0451, 0.0012, 0, 0, 0.0012, 0, 0, 0.0012, -0.02, 0, 0.0012, -0.02, 0.0451, 0.0012, 0, 0.0451, -0.0012, 0, 0.0451, -0.0012, 0, 0, -0.0012, 0, 0, 0.0012, 0, 0, 0.0012, 0, 0.0451)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_f0oxd"]
data = PackedVector3Array(-0.0012, -0.02, 0.0451, -0.0012, 0, 0.0451, 0.0012, 0, 0.0451, 0.0012, 0, 0.0451, 0.0012, -0.02, 0.0451, -0.0012, -0.02, 0.0451, -0.0012, -0.02, 0.0451, 0.0012, -0.02, 0.0451, 0.0012, -0.02, 0, 0.0012, -0.02, 0, -0.0012, -0.02, 0, -0.0012, -0.02, 0.0451, -0.0012, 0, 0.0451, -0.0012, -0.02, 0.0451, -0.0012, -0.02, 0, -0.0012, -0.02, 0, -0.0012, 0, 0, -0.0012, 0, 0.0451, -0.0012, -0.02, 0, 0.0012, -0.02, 0, -0.0012, 0, 0, 0.0012, -0.02, 0, 0.0012, 0, 0, -0.0012, 0, 0, 0.0012, -0.02, 0.0451, 0.0012, 0, 0.0451, 0.0012, 0, 0, 0.0012, 0, 0, 0.0012, -0.02, 0, 0.0012, -0.02, 0.0451, 0.0012, 0, 0.0451, -0.0012, 0, 0.0451, -0.0012, 0, 0, -0.0012, 0, 0, 0.0012, 0, 0, 0.0012, 0, 0.0451)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_t8tiw"]
animation = &"Armature|Open"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_x6m52"]
animation = &"Armature|Default"

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_fp5nr"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_isg22"]
graph_offset = Vector2(-111.345, -4.21181)
nodes/AnimOpen/node = SubResource("AnimationNodeAnimation_t8tiw")
nodes/AnimOpen/position = Vector2(-100, 280)
nodes/AnimeDefault/node = SubResource("AnimationNodeAnimation_x6m52")
nodes/AnimeDefault/position = Vector2(-60, 80)
nodes/Open/node = SubResource("AnimationNodeBlend2_fp5nr")
nodes/Open/position = Vector2(220, 140)
nodes/output/position = Vector2(460, 180)
node_connections = [&"Open", 0, &"AnimeDefault", &"Open", 1, &"AnimOpen", &"output", 0, &"Open"]

[sub_resource type="BoxShape3D" id="BoxShape3D_yaf33"]
size = Vector3(5, 3, 7)

[node name="Door" instance=ExtResource("1_w7s8y")]
script = ExtResource("2_6l8ta")

[node name="RootNode_door_StaticBody3D#CollisionShape3D" type="CollisionShape3D" parent="." index="0"]
shape = SubResource("ConcavePolygonShape3D_3tvsx")

[node name="RootNode_door#StaticBody3D" type="StaticBody3D" parent="." index="1"]

[node name="Skeleton3D" parent="RootNode/Armature" index="0"]
bones/1/rotation = Quaternion(0.477715, -0.477714, -0.521334, 0.521334)
bones/2/rotation = Quaternion(0.706434, 0.0308443, -0.706433, -0.0308428)

[node name="door" parent="RootNode/Armature/Skeleton3D" index="0"]
transform = Transform3D(1, -5.96046e-08, 1.13227e-07, 2.23517e-08, 1, 1.94147e-06, -4.76314e-09, -1.95099e-06, 1, 4.71261e-10, 1.38229e-10, 0)

[node name="door" parent="RootNode/Armature/Skeleton3D/door" index="0"]
transform = Transform3D(1, -4.65661e-10, -3.55271e-15, 0, 1, 2.43194e-13, 0, 4.34097e-14, 1, 0, 0, 0)

[node name="StaticBody3D" type="StaticBody3D" parent="RootNode/Armature/Skeleton3D/door/door" index="0"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RootNode/Armature/Skeleton3D/door/door/StaticBody3D" index="0"]
shape = SubResource("ConcavePolygonShape3D_f0oxd")

[node name="AnimationPlayer" parent="." index="3"]
autoplay = "Armature|Default"

[node name="AnimationTree" type="AnimationTree" parent="." index="4"]
tree_root = SubResource("AnimationNodeBlendTree_isg22")
anim_player = NodePath("../AnimationPlayer")
parameters/Open/blend_amount = 0.0

[node name="Area3D" type="Area3D" parent="." index="5"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 1.5, 0)
shape = SubResource("BoxShape3D_yaf33")

[connection signal="area_entered" from="Area3D" to="." method="_on_area_3d_body_entered"]
[connection signal="area_exited" from="Area3D" to="." method="_on_area_3d_area_exited"]
